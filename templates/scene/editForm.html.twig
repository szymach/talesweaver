{% extends 'base.html.twig' %}

{% block seoTitle 'scene.seo_title.form.edit'|trans({ '%title%': title }) %}
{% block rightMenu %}
    {% include 'partial/topMenuActions.html.twig' with {
        returnUrl: chapterId ? path('chapter_edit', { id: chapterId }) : path('scene_list', { page: app.request.get('page') }),
        returnLabel: (chapterId ? 'scene.back.to_chapter' : 'scene.back.to_list')|trans,
        actions: [
            {
                url: path('scene_display', { id: sceneId }),
                attributes: { target: '_blank', title: 'display.title'|trans },
                icon: 'fa fa-eye',
                label: 'display.label'|trans
            },
            {
                url: path('scene_pdf', { id: sceneId }),
                attributes: { target: '_blank', title: 'pdf.title'|trans },
                icon: 'fa fa-file-pdf-o',
                label: 'pdf.label'|trans
            }
        ]
    } only %}
{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-xs-10 col-sm-offset-1 col-md-8 col-md-offset-1 content-container">
            {% include 'scene/form/editForm.html.twig' with { form: form } only %}
            <div id="ajax-container"></div>
            <div id="form-backdrop"></div>
        </div>
    </div>
    {% embed 'partial/sideMenu.html.twig'%}
        {% block listContent %}
            {% if chapterTitle is not null and relatedScenes|length > 0 %}
                {% include 'scene/related/listHeader.html.twig' with {
                    chapterTitle: chapterTitle,
                    chapterId: chapterId,
                    form: nextSceneForm
                } only %}
            {% endif %}
            {% include 'scene/characters/listHeader.html.twig' with { sceneId: sceneId, chapterId: chapterId } only %}
            {% include 'scene/items/listHeader.html.twig' with { sceneId: sceneId, chapterId: chapterId } only %}
            {% include 'scene/locations/listHeader.html.twig' with { sceneId: sceneId, chapterId: chapterId} only %}
            {% include 'scene/events/listHeader.html.twig' with { sceneId: sceneId, chapterId: chapterId } only %}
        {% endblock %}
    {% endembed %}
{% endblock %}

{% block modals %}
    {% include 'partial/displayModal.html.twig' %}
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ absolute_url(asset('assets/ckeditor.css')) }}">
{% endblock %}
{% block javascripts %}
    <script src="{{ absolute_url(asset('assets/ckeditor.js')) }}" async></script>
{% endblock %}
