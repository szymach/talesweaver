{% extends 'base.html.twig' %}

{% block seo_title 'scene.header.edit'|trans({ '%title%': title }) %}

{% block top_menu_right %}
    {% include 'scene/actions.html.twig' with {
        returnUrl: chapterId ? path('chapter_edit', { id: chapterId }) : path('scene_list', { page: app.request.get('page') }),
        returnLabel: (chapterId ? 'scene.back.to_chapter' : 'scene.back.to_list')|trans
    } %}
{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-xs-10 col-sm-offset-1 col-md-8 col-md-offset-2 content-container">
            {% include 'scene/form/editForm.html.twig' with { form: form } only %}
            <div id="ajax-container"></div>
            <div id="form-backdrop"></div>
            <button id="clear-ajax" class="btn btn-danger pull-right" style="display: none;">
                <span class="fa fa-close"></span>
            </button>
        </div>
    </div>
    {% embed 'partial/sideMenu.html.twig'%}
        {% block listContent %}
            {% if chapterTitle and relatedScenes|length > 0 %}
                {% include 'scene/relatedList.html.twig' with { sceneId: sceneId, chapterTitle: chapterTitle, chapterId: chapterId, scenes: relatedScenes, page: 1 } only %}
            {% endif %}
            {% include 'scene/characters/list.html.twig' with { sceneId: sceneId, chapterId: chapterId, characters: characters, page: 1 } only %}
            {% include 'scene/items/list.html.twig' with { sceneId: sceneId, chapterId: chapterId, items: items, page: 1 } only %}
            {% include 'scene/locations/list.html.twig' with { sceneId: sceneId, chapterId: chapterId, locations: locations, page: 1 } only %}
            {% include 'scene/events/list.html.twig' with { sceneId: sceneId, chapterId: chapterId, events: events, eventModels: eventModels, page: 1 } only %}
        {% endblock %}
    {% endembed %}
{% endblock %}

{% block modals %}
    {% include 'partial/displayModal.html.twig' %}
{% endblock %}
