{% extends 'displayBase.html.twig' %}

{% block seoTitle book.title %}

{% block body %}
    <div class="row">
        <div class="col">
            <h1>{{ book.title }}</h1>
            {% for chapter in book.chapters if chapter.scenes|length > 0 %}
                <h2>{{ chapter.title }}</h2>
                <div id="accordion">
                    {% for scene in chapter.scenes if scene.text|length > 0 %}
                        <div class="card">
                            <div class="card-header" id="heading-{{ loop.index }}">
                                <h3 class="cursor-pointer"
                                    data-target="#scene-{{ loop.index }}"
                                    data-toggle="collapse"
                                    aria-expanded="true"
                                    aria-controls="scene-{{ loop.index }}"
                                >
                                    {{ scene.title }}
                                    <span class="float-right fa fa-toggle-{% if loop.first %}on{% else %}off{% endif %}"
                                          title="{{ 'display.show_hide'|trans }}"
                                    >
                                    </span>
                                </h3>
                            </div>
                            <div id="scene-{{ loop.index }}"
                                 aria-labelledby="heading-{{ loop.index }}"
                                 class="collapse{% if loop.first %} show{% endif %}"
                                 data-parent="#accordion"
                                 >
                                <div class="card-body">{{ scene.text|raw }}</div>
                            </div>
                        </div>
                    {% endfor %}
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}
