---
default: &default
    suites:
        scene:
            paths: [ %paths.base%/features/scene ]
            contexts:
                - AppBundle\Behat\ListContext
                - AppBundle\Behat\FormContext
                - AppBundle\Behat\FormFillContext
                - AppBundle\Behat\NavigationContext
                - AppBundle\Behat\DataContext
                - Fidry\AliceBundleExtension\Context\Doctrine\AliceORMContext
        chapter:
            paths: [ %paths.base%/features/chapter ]
            contexts:
                - AppBundle\Behat\ListContext
                - AppBundle\Behat\FormContext
                - AppBundle\Behat\FormFillContext
                - AppBundle\Behat\NavigationContext
                - AppBundle\Behat\DataContext
                - Fidry\AliceBundleExtension\Context\Doctrine\AliceORMContext
        book:
            paths: [ %paths.base%/features/book ]
            contexts:
                - AppBundle\Behat\ListContext
                - AppBundle\Behat\FormContext
                - AppBundle\Behat\FormFillContext
                - AppBundle\Behat\NavigationContext
                - AppBundle\Behat\DataContext
                - Fidry\AliceBundleExtension\Context\Doctrine\AliceORMContext
    gherkin:
        filters:
            tags: ~@wip
    extensions:
        Behat\MinkExtension:
            sessions:
                default:
                    symfony2: ~
                javascript:
                    selenium2:
                        browser: firefox
            base_url: http://127.0.0.1:8000/app_test.php
        Behat\Symfony2Extension:
            kernel:
                env: test
                debug: true
        SensioLabs\Behat\PageObjectExtension:
            namespaces:
                page: AppBundle\Behat\Page
                element: AppBundle\Behat\Element
        Fidry\AliceBundleExtension\Extension:
            fixtures_base_path: %paths.base%/features/fixtures

travis:
    <<: *default
    formatters:
        progress: true
    extensions:
        Behat\MinkExtension:
            base_url: "http://localhost:8080/app_test.php"
